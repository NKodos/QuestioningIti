-- phpMyAdmin SQL Dump
-- version 4.7.4
-- https://www.phpmyadmin.net/
--
-- Хост: 127.0.0.1
-- Время создания: Июл 01 2019 г., 20:18
-- Версия сервера: 10.1.29-MariaDB
-- Версия PHP: 7.2.0

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET AUTOCOMMIT = 0;
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- База данных: `questioning`
--

-- --------------------------------------------------------

--
-- Структура таблицы `answers`
--

CREATE TABLE `answers` (
  `id` int(10) UNSIGNED NOT NULL,
  `idBusinesses` int(11) NOT NULL,
  `idQuestions` int(11) NOT NULL,
  `idVariantsOfAnswers` int(11) NOT NULL,
  `idstructuralsubdivision` int(11) DEFAULT NULL,
  `position` text
) ENGINE=MyISAM DEFAULT CHARSET=utf8 COMMENT='Ответы на вопросы';

-- --------------------------------------------------------

--
-- Структура таблицы `businesses`
--

CREATE TABLE `businesses` (
  `id` int(11) UNSIGNED NOT NULL,
  `name` varchar(100) NOT NULL,
  `description` text,
  `idIndustry` int(11) NOT NULL,
  `image` blob,
  `email` text NOT NULL
) ENGINE=MyISAM DEFAULT CHARSET=utf8 COMMENT='Предприятия, которые проходят анкетирования';

--
-- Дамп данных таблицы `businesses`
--

INSERT INTO `businesses` (`id`, `name`, `description`, `idIndustry`, `image`, `email`) VALUES
(5, 'ГУП «Единые распределительные электрические сети» (ЕРЭС)', '', 1, NULL, 'test@mail.test'),
(4, 'ОО «Тираспольтрансгаз-Приднестровье»', NULL, 1, NULL, ''),
(3, 'ЗАО «Молдавская ГРЭС»', '', 1, NULL, 'gres@gmail.com'),
(6, 'ГУП ГК «Днестрэнерго»', NULL, 1, NULL, ''),
(7, 'МГУП «Тирастеплоэнерго»', NULL, 1, NULL, ''),
(8, 'МУП «Бендерытеплоэнерго»', NULL, 1, NULL, ''),
(9, 'ООО «Тиротекс-Энерго»', NULL, 1, NULL, ''),
(10, 'ГУП «Дубоссарская ГЭС»', NULL, 1, NULL, ''),
(11, 'ГУП «Молдэлектромонтаж»', NULL, 1, NULL, ''),
(12, 'ДООО «Мегаэлектромонтаж»', NULL, 1, NULL, ''),
(13, 'Филиал «Завод „Прибор“» ФГУП НПЦ газотурбостроение Салют', NULL, 2, NULL, ''),
(14, 'ЗАО «Молдавкабель»', NULL, 2, NULL, ''),
(15, 'ОАО «Молдавский металлургический завод»', NULL, 8, NULL, ''),
(16, 'ООО «Век»', NULL, 8, NULL, ''),
(17, 'ОАО «Автополив»', NULL, 9, NULL, ''),
(18, 'ЗАО «АвтоРемЗавод»', NULL, 9, NULL, ''),
(19, 'ОАО «Литмаш»', NULL, 9, NULL, ''),
(20, 'ЗАО «Российское предприятие Бендерский машиностроительный завод»', NULL, 9, NULL, ''),
(21, 'НП ЗАО «Электромаш»', NULL, 9, NULL, ''),
(22, 'ООО «Рида»', NULL, 9, NULL, ''),
(23, 'ЗАО «Тиротекс»', NULL, 10, NULL, ''),
(24, 'ОАО «Флоаре»', NULL, 10, NULL, ''),
(25, 'СООО «Терри-ПА»', NULL, 10, NULL, ''),
(26, 'ЗАО ТВКЗ «KVINT»', NULL, 11, NULL, ''),
(27, 'ЗАО «Тираспольский хлебокомбинат»', NULL, 11, NULL, ''),
(28, 'ЗАО «Бендерский пивоваренный завод»', NULL, 11, NULL, ''),
(29, 'ЗАО «Бендерский мясокомбинат»', NULL, 11, NULL, ''),
(30, 'ЗАО «Бендерский комбинат хлебопродуктов»', NULL, 11, NULL, ''),
(31, 'ЗАО «Тираспольский комбинат хлебопродуктов»', NULL, 11, NULL, ''),
(32, 'ОАО «Тираспольский молочный комбинат»', NULL, 11, NULL, ''),
(33, 'ООО «Акватир»', NULL, 11, NULL, ''),
(34, 'ООО «Бендерский комбинат крахмалопродуктов»', NULL, 11, NULL, ''),
(35, 'Пивоваренный завод \"Наше пиво\"', NULL, 11, NULL, ''),
(36, 'ЗАО «Букет Молдавии»', NULL, 11, NULL, ''),
(37, 'ЗАО «Каменский консервный завод»', NULL, 11, NULL, ''),
(39, 'ЗАО «Завод домостроительных конструкций»', NULL, 12, NULL, ''),
(40, 'ЗАО «Фарба-Групп»', '', 12, NULL, ''),
(41, 'ЗАО «Рыбницкий цементный комбинат» \"', NULL, 12, NULL, ''),
(45, 'Test', 'описание', 13, NULL, 'test@test.tst');

-- --------------------------------------------------------

--
-- Структура таблицы `directions`
--

CREATE TABLE `directions` (
  `id` int(11) UNSIGNED NOT NULL,
  `name` text NOT NULL,
  `description` text,
  `idTypesOfDirections` int(11) NOT NULL DEFAULT '1',
  `isCreatedQuestioning` tinyint(1) NOT NULL DEFAULT '0'
) ENGINE=MyISAM DEFAULT CHARSET=utf8 COMMENT='Napravleniya';

--
-- Дамп данных таблицы `directions`
--

INSERT INTO `directions` (`id`, `name`, `description`, `idTypesOfDirections`, `isCreatedQuestioning`) VALUES
(1, 'Программная инженерия', 'Программисты', 1, 1),
(2, 'Технологические машины и оборудование', NULL, 1, 1),
(3, 'Тестовое направление', 'тестовое описаниеeeeeeeee', 1, 1),
(25, 'Тест1', 'описание теста 1', 1, 0);

-- --------------------------------------------------------

--
-- Структура таблицы `industry`
--

CREATE TABLE `industry` (
  `id` int(11) UNSIGNED NOT NULL,
  `name` text NOT NULL,
  `description` text
) ENGINE=MyISAM DEFAULT CHARSET=utf8 COMMENT='Отрасли предприятий';

--
-- Дамп данных таблицы `industry`
--

INSERT INTO `industry` (`id`, `name`, `description`) VALUES
(10, 'Легкая промышленность', NULL),
(9, 'Машиностроение', NULL),
(8, 'Черная металлургия', NULL),
(2, 'Электротехническая', NULL),
(1, 'Электроэнергетика', NULL),
(11, 'Пищевая промышленность', NULL),
(12, 'Промышленность строительных материалов', NULL),
(13, 'тестовая отрасль', NULL);

-- --------------------------------------------------------

--
-- Структура таблицы `qanswers`
--

CREATE TABLE `qanswers` (
  `id` int(11) NOT NULL,
  `idBusinesses` int(11) NOT NULL,
  `idQuestion` int(11) NOT NULL,
  `idVariantsOfAnswers` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Дамп данных таблицы `qanswers`
--

INSERT INTO `qanswers` (`id`, `idBusinesses`, `idQuestion`, `idVariantsOfAnswers`) VALUES
(442, 13, 12, 1),
(445, 13, 12, 2),
(443, 13, 13, 2),
(446, 13, 13, 2),
(444, 13, 14, 1),
(447, 13, 14, 1),
(1, 15, 12, 1),
(448, 15, 12, 1),
(451, 15, 12, 2),
(2, 15, 13, 1),
(452, 15, 13, 1),
(449, 15, 13, 2),
(450, 15, 14, 1),
(3, 15, 14, 2),
(453, 15, 14, 3),
(454, 16, 12, 1),
(455, 16, 13, 2),
(456, 16, 14, 2),
(32, 23, 15, 1),
(60, 23, 15, 1),
(88, 23, 15, 1),
(116, 23, 15, 1),
(396, 23, 15, 2),
(61, 23, 16, 1),
(117, 23, 16, 1),
(397, 23, 16, 1),
(33, 23, 16, 2),
(89, 23, 16, 2),
(34, 23, 17, 1),
(118, 23, 17, 1),
(62, 23, 17, 2),
(398, 23, 17, 2),
(90, 23, 17, 3),
(91, 23, 18, 1),
(119, 23, 18, 1),
(399, 23, 18, 1),
(35, 23, 18, 2),
(63, 23, 18, 2),
(92, 23, 19, 1),
(120, 23, 19, 1),
(36, 23, 19, 2),
(64, 23, 19, 2),
(400, 23, 19, 2),
(121, 23, 20, 1),
(401, 23, 20, 1),
(37, 23, 20, 2),
(65, 23, 20, 2),
(93, 23, 20, 3),
(66, 23, 21, 1),
(94, 23, 21, 1),
(38, 23, 21, 2),
(122, 23, 21, 2),
(402, 23, 21, 2),
(67, 23, 22, 1),
(95, 23, 22, 2),
(123, 23, 22, 2),
(403, 23, 22, 2),
(39, 23, 22, 3),
(68, 23, 23, 1),
(404, 23, 23, 1),
(96, 23, 23, 2),
(124, 23, 23, 2),
(40, 23, 23, 3),
(69, 23, 24, 1),
(405, 23, 24, 1),
(97, 23, 24, 2),
(125, 23, 24, 2),
(41, 23, 24, 3),
(42, 23, 25, 1),
(70, 23, 25, 1),
(406, 23, 25, 1),
(98, 23, 25, 2),
(126, 23, 25, 2),
(43, 23, 26, 1),
(407, 23, 26, 1),
(99, 23, 26, 2),
(127, 23, 26, 2),
(71, 23, 26, 3),
(44, 23, 27, 1),
(408, 23, 27, 1),
(72, 23, 27, 2),
(100, 23, 27, 2),
(128, 23, 27, 2),
(45, 23, 28, 1),
(73, 23, 28, 1),
(409, 23, 28, 1),
(101, 23, 28, 2),
(129, 23, 28, 2),
(46, 23, 29, 1),
(410, 23, 29, 1),
(74, 23, 29, 2),
(102, 23, 29, 2),
(130, 23, 29, 2),
(47, 23, 30, 1),
(75, 23, 30, 1),
(103, 23, 30, 2),
(131, 23, 30, 2),
(411, 23, 30, 2),
(48, 23, 31, 1),
(412, 23, 31, 1),
(104, 23, 31, 2),
(132, 23, 31, 2),
(76, 23, 31, 3),
(49, 23, 32, 1),
(133, 23, 32, 1),
(77, 23, 32, 2),
(105, 23, 32, 2),
(413, 23, 32, 2),
(50, 23, 33, 1),
(78, 23, 33, 1),
(134, 23, 33, 1),
(414, 23, 33, 1),
(106, 23, 33, 2),
(51, 23, 34, 1),
(79, 23, 34, 1),
(135, 23, 34, 1),
(415, 23, 34, 1),
(107, 23, 34, 2),
(52, 23, 35, 1),
(416, 23, 35, 1),
(80, 23, 35, 2),
(108, 23, 35, 2),
(136, 23, 35, 2),
(53, 23, 36, 1),
(109, 23, 36, 2),
(137, 23, 36, 2),
(417, 23, 36, 2),
(81, 23, 36, 3),
(54, 23, 37, 1),
(138, 23, 37, 1),
(110, 23, 37, 2),
(82, 23, 37, 3),
(418, 23, 37, 3),
(55, 23, 38, 1),
(83, 23, 38, 2),
(111, 23, 38, 3),
(139, 23, 38, 3),
(419, 23, 38, 3),
(56, 23, 39, 1),
(420, 23, 39, 1),
(84, 23, 39, 2),
(112, 23, 39, 3),
(140, 23, 39, 3),
(57, 23, 40, 1),
(421, 23, 40, 1),
(85, 23, 40, 2),
(113, 23, 40, 3),
(141, 23, 40, 3),
(58, 23, 41, 1),
(86, 23, 41, 1),
(422, 23, 41, 1),
(114, 23, 41, 3),
(142, 23, 41, 3),
(59, 23, 42, 1),
(87, 23, 42, 1),
(423, 23, 42, 1),
(115, 23, 42, 3),
(143, 23, 42, 3),
(4, 40, 15, 1),
(144, 40, 15, 1),
(172, 40, 15, 1),
(340, 40, 15, 1),
(368, 40, 15, 1),
(312, 40, 15, 3),
(5, 40, 16, 1),
(173, 40, 16, 1),
(341, 40, 16, 1),
(369, 40, 16, 1),
(145, 40, 16, 3),
(313, 40, 16, 3),
(174, 40, 17, 1),
(342, 40, 17, 1),
(6, 40, 17, 2),
(146, 40, 17, 2),
(314, 40, 17, 2),
(370, 40, 17, 2),
(175, 40, 18, 1),
(343, 40, 18, 1),
(7, 40, 18, 2),
(147, 40, 18, 2),
(371, 40, 18, 2),
(315, 40, 18, 3),
(8, 40, 19, 1),
(176, 40, 19, 1),
(344, 40, 19, 1),
(372, 40, 19, 2),
(148, 40, 19, 3),
(316, 40, 19, 3),
(177, 40, 20, 1),
(345, 40, 20, 1),
(9, 40, 20, 2),
(149, 40, 20, 2),
(373, 40, 20, 2),
(317, 40, 20, 3),
(178, 40, 21, 1),
(318, 40, 21, 1),
(346, 40, 21, 1),
(10, 40, 21, 2),
(374, 40, 21, 2),
(150, 40, 21, 3),
(11, 40, 22, 1),
(151, 40, 22, 1),
(179, 40, 22, 1),
(319, 40, 22, 1),
(347, 40, 22, 1),
(375, 40, 22, 3),
(180, 40, 23, 1),
(320, 40, 23, 1),
(348, 40, 23, 1),
(12, 40, 23, 2),
(152, 40, 23, 2),
(376, 40, 23, 2),
(181, 40, 24, 1),
(321, 40, 24, 1),
(349, 40, 24, 1),
(13, 40, 24, 2),
(153, 40, 24, 2),
(377, 40, 24, 2),
(14, 40, 25, 1),
(182, 40, 25, 1),
(322, 40, 25, 1),
(350, 40, 25, 1),
(154, 40, 25, 2),
(378, 40, 25, 2),
(183, 40, 26, 1),
(351, 40, 26, 1),
(15, 40, 26, 2),
(323, 40, 26, 2),
(155, 40, 26, 3),
(379, 40, 26, 3),
(184, 40, 27, 1),
(352, 40, 27, 1),
(16, 40, 27, 2),
(156, 40, 27, 2),
(380, 40, 27, 2),
(324, 40, 27, 3),
(185, 40, 28, 1),
(353, 40, 28, 1),
(17, 40, 28, 2),
(157, 40, 28, 2),
(381, 40, 28, 2),
(325, 40, 28, 3),
(186, 40, 29, 1),
(326, 40, 29, 1),
(354, 40, 29, 1),
(18, 40, 29, 2),
(158, 40, 29, 2),
(382, 40, 29, 2),
(187, 40, 30, 1),
(327, 40, 30, 1),
(355, 40, 30, 1),
(19, 40, 30, 2),
(159, 40, 30, 2),
(383, 40, 30, 2),
(20, 40, 31, 1),
(160, 40, 31, 1),
(188, 40, 31, 1),
(328, 40, 31, 1),
(356, 40, 31, 1),
(384, 40, 31, 1),
(21, 40, 32, 1),
(161, 40, 32, 1),
(189, 40, 32, 1),
(329, 40, 32, 1),
(357, 40, 32, 1),
(385, 40, 32, 2),
(22, 40, 33, 1),
(190, 40, 33, 1),
(330, 40, 33, 1),
(358, 40, 33, 1),
(386, 40, 33, 1),
(162, 40, 33, 2),
(163, 40, 34, 1),
(191, 40, 34, 1),
(331, 40, 34, 1),
(359, 40, 34, 1),
(387, 40, 34, 1),
(23, 40, 34, 2),
(192, 40, 35, 1),
(332, 40, 35, 1),
(360, 40, 35, 1),
(24, 40, 35, 2),
(388, 40, 35, 2),
(164, 40, 35, 3),
(193, 40, 36, 1),
(333, 40, 36, 1),
(361, 40, 36, 1),
(165, 40, 36, 2),
(389, 40, 36, 2),
(25, 40, 36, 3),
(26, 40, 37, 1),
(194, 40, 37, 1),
(334, 40, 37, 1),
(362, 40, 37, 1),
(390, 40, 37, 1),
(166, 40, 37, 2),
(27, 40, 38, 1),
(167, 40, 38, 1),
(391, 40, 38, 2),
(195, 40, 38, 3),
(335, 40, 38, 3),
(363, 40, 38, 3),
(28, 40, 39, 1),
(168, 40, 39, 1),
(392, 40, 39, 1),
(196, 40, 39, 3),
(336, 40, 39, 3),
(364, 40, 39, 3),
(29, 40, 40, 2),
(169, 40, 40, 2),
(393, 40, 40, 2),
(197, 40, 40, 3),
(337, 40, 40, 3),
(365, 40, 40, 3),
(30, 40, 41, 1),
(170, 40, 41, 1),
(394, 40, 41, 1),
(198, 40, 41, 3),
(338, 40, 41, 3),
(366, 40, 41, 3),
(171, 40, 42, 1),
(395, 40, 42, 2),
(31, 40, 42, 3),
(199, 40, 42, 3),
(339, 40, 42, 3),
(367, 40, 42, 3),
(200, 41, 15, 1),
(228, 41, 15, 1),
(256, 41, 15, 1),
(284, 41, 15, 1),
(201, 41, 16, 1),
(229, 41, 16, 1),
(257, 41, 16, 1),
(285, 41, 16, 1),
(202, 41, 17, 1),
(230, 41, 17, 1),
(258, 41, 17, 1),
(286, 41, 17, 1),
(203, 41, 18, 1),
(259, 41, 18, 1),
(287, 41, 18, 1),
(231, 41, 18, 2),
(204, 41, 19, 1),
(232, 41, 19, 1),
(260, 41, 19, 1),
(288, 41, 19, 1),
(261, 41, 20, 1),
(289, 41, 20, 1),
(205, 41, 20, 2),
(233, 41, 20, 2),
(206, 41, 21, 1),
(234, 41, 21, 1),
(290, 41, 21, 1),
(262, 41, 21, 2),
(291, 41, 22, 1),
(207, 41, 22, 2),
(235, 41, 22, 2),
(263, 41, 22, 2),
(208, 41, 23, 1),
(292, 41, 23, 1),
(236, 41, 23, 2),
(264, 41, 23, 2),
(209, 41, 24, 1),
(237, 41, 24, 1),
(293, 41, 24, 1),
(265, 41, 24, 2),
(210, 41, 25, 1),
(238, 41, 25, 1),
(294, 41, 25, 1),
(266, 41, 25, 2),
(239, 41, 26, 1),
(295, 41, 26, 1),
(211, 41, 26, 2),
(267, 41, 26, 2),
(212, 41, 27, 1),
(240, 41, 27, 1),
(268, 41, 27, 1),
(296, 41, 27, 1),
(213, 41, 28, 1),
(241, 41, 28, 1),
(297, 41, 28, 1),
(269, 41, 28, 2),
(214, 41, 29, 1),
(270, 41, 29, 1),
(298, 41, 29, 1),
(242, 41, 29, 2),
(215, 41, 30, 1),
(243, 41, 30, 1),
(299, 41, 30, 1),
(271, 41, 30, 2),
(216, 41, 31, 1),
(244, 41, 31, 1),
(300, 41, 31, 1),
(272, 41, 31, 2),
(217, 41, 32, 1),
(301, 41, 32, 1),
(245, 41, 32, 2),
(273, 41, 32, 2),
(218, 41, 33, 1),
(246, 41, 33, 1),
(274, 41, 33, 1),
(302, 41, 33, 1),
(303, 41, 34, 1),
(219, 41, 34, 2),
(247, 41, 34, 2),
(275, 41, 34, 2),
(304, 41, 35, 1),
(220, 41, 35, 2),
(248, 41, 35, 2),
(276, 41, 35, 2),
(249, 41, 36, 1),
(305, 41, 36, 1),
(221, 41, 36, 2),
(277, 41, 36, 2),
(278, 41, 37, 1),
(306, 41, 37, 1),
(222, 41, 37, 2),
(250, 41, 37, 2),
(223, 41, 38, 3),
(251, 41, 38, 3),
(279, 41, 38, 3),
(307, 41, 38, 3),
(224, 41, 39, 2),
(252, 41, 39, 3),
(280, 41, 39, 3),
(308, 41, 39, 3),
(225, 41, 40, 3),
(253, 41, 40, 3),
(281, 41, 40, 3),
(309, 41, 40, 3),
(226, 41, 41, 2),
(254, 41, 41, 3),
(282, 41, 41, 3),
(310, 41, 41, 3),
(227, 41, 42, 3),
(255, 41, 42, 3),
(283, 41, 42, 3),
(311, 41, 42, 3);

-- --------------------------------------------------------

--
-- Структура таблицы `qquestions`
--

CREATE TABLE `qquestions` (
  `id` int(11) NOT NULL,
  `idQuestionBlock` varchar(50) NOT NULL,
  `text` text NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Дамп данных таблицы `qquestions`
--

INSERT INTO `qquestions` (`id`, `idQuestionBlock`, `text`) VALUES
(12, '317bd34b-1d81-45d9-9e74-a2fe93e056d8', 'ывапывап'),
(13, '317bd34b-1d81-45d9-9e74-a2fe93e056d8', 'ывапвыап'),
(14, 'ec247fdf-1958-41e4-bae3-9b0162c78bfa', 'asdf'),
(15, '20f75e78-93fa-4a59-8b57-d6be145e2bff', 'Изучение научно-технической информации, отечественного и зарубежного опыта по направлению исследований в области машин, приводов, систем, различных комплексов'),
(16, '20f75e78-93fa-4a59-8b57-d6be145e2bff', 'Математическое моделирование машин, приводов, систем, различных комплексов, процессов, оборудования и производственных объектов с использованием стандартных пакетов и средств автоматизированного проектирования и проведение исследований'),
(17, '20f75e78-93fa-4a59-8b57-d6be145e2bff', 'Проведение экспериментов по заданным методикам, обработка и анализ результатов'),
(18, '20f75e78-93fa-4a59-8b57-d6be145e2bff', 'Проведение технических измерений, составление описаний проводимых исследований, подготовка данных для составления научных обзоров и публикаций'),
(19, '20f75e78-93fa-4a59-8b57-d6be145e2bff', 'Участие в работах по составлению научных отчетов по выполненному заданию и по внедрению результатов исследований и разработок в области машиностроения'),
(20, '20f75e78-93fa-4a59-8b57-d6be145e2bff', 'Организация защиты объектов интеллектуальной собственности и результатов исследований и разработок как коммерческой тайны предприятия'),
(21, '6d88a67e-802b-40cc-8e69-31310ab5ce54', 'Организация работы малых коллективов исполнителей'),
(22, '6d88a67e-802b-40cc-8e69-31310ab5ce54', 'Составление технической документации и подготовка отчетности по установленным формам'),
(23, '6d88a67e-802b-40cc-8e69-31310ab5ce54', 'Проведение анализа и оценка производственных и непроизводственных затрат на обеспечение требуемого качества продукции'),
(24, '6d88a67e-802b-40cc-8e69-31310ab5ce54', 'Подготовка исходных данных для выбора и обоснования научно-технических и организационных решений на основе экономических решений'),
(25, '6d88a67e-802b-40cc-8e69-31310ab5ce54', 'Выполнение работ по стандартизации, технической подготовке к сертификации машин, приводов, систем, различных комплексов и технических средств'),
(26, '6d88a67e-802b-40cc-8e69-31310ab5ce54', 'Планирование работ персонала и фондов оплаты труда и разработка планов работы первичных производственных подразделений'),
(27, '6d88a67e-802b-40cc-8e69-31310ab5ce54', 'Подготовка документации для создания системы менеджмента качества на предприятии'),
(28, '6d88a67e-802b-40cc-8e69-31310ab5ce54', 'Проведение организационно-плановых расчетов по созданию или реорганизации производственных участков'),
(29, 'eea85f70-1db5-4027-baa2-2473fc0b140b', 'Обслуживание, освоение и эксплуатация технологического оборудования, электро-, гидро и пневмо-приводов и систем для реализации производственных процессов'),
(30, 'eea85f70-1db5-4027-baa2-2473fc0b140b', 'Организация рабочих мест, их техническое оснащение с размещением технологического оборудования'),
(31, 'eea85f70-1db5-4027-baa2-2473fc0b140b', 'Организация метрологического обеспечения технологических процессов, использование типовых методов контроля качества выпускаемой продукции'),
(32, 'eea85f70-1db5-4027-baa2-2473fc0b140b', 'Подготовка технической документации по менеджменту качества машин, приводов, различных комплексов и технологических процессов на производственных участках'),
(33, 'eea85f70-1db5-4027-baa2-2473fc0b140b', 'Контроль соблюдения экологической безопасности проведения работ'),
(34, 'eea85f70-1db5-4027-baa2-2473fc0b140b', 'Проверка технического состояния, наладка, настройка, регулирование машин, приводов, систем, различных комплексов, технологического оборудования и программных средств'),
(35, 'eea85f70-1db5-4027-baa2-2473fc0b140b', 'Монтаж, наладка, испытание и сдача в эксплуатацию новых образцов изделий, узлов и деталей выпускаемой продукции'),
(36, 'eea85f70-1db5-4027-baa2-2473fc0b140b', 'Приемка и освоение вводимого оборудования. Составление инструкций по эксплуатации оборудования и программ испытаний'),
(37, 'eea85f70-1db5-4027-baa2-2473fc0b140b', 'Составление заявок на оборудование и запасные части, подготовка технической документации на его ремонт'),
(38, 'f4cdd269-722e-4a58-87b6-b038fc3415ea', 'Сбор и анализ исходных информационных данных для проектирования изделий машиностроения и технологий их изготовления '),
(39, 'f4cdd269-722e-4a58-87b6-b038fc3415ea', 'Расчет и проектирование деталей и узлов машиностроительных конструкций в соответствии с техническими заданиями и использованием стандартных средств автоматизации проектирования'),
(40, 'f4cdd269-722e-4a58-87b6-b038fc3415ea', 'Разработка рабочей проектной и технической документации, оформление законченных проектно-конструкторских работ'),
(41, 'f4cdd269-722e-4a58-87b6-b038fc3415ea', 'Проведение контроля соответствия разрабатываемых проектов и технической документации стандартами, техническими условиями и другими нормативны документам'),
(42, 'f4cdd269-722e-4a58-87b6-b038fc3415ea', 'Проведение предварительного технико-экономического обоснования проектных решений'),
(43, 'f9e5be47-c709-4487-a209-ad8a9862fe68', 'Вопрос 3'),
(44, 'f9e5be47-c709-4487-a209-ad8a9862fe68', 'Вопрос 2'),
(45, 'f9e5be47-c709-4487-a209-ad8a9862fe68', 'Вопрос 1'),
(46, '7ffd4ca7-0424-4f73-ba55-58fbd06cc9d8', 'Вопрос 1'),
(47, '7ffd4ca7-0424-4f73-ba55-58fbd06cc9d8', 'Вопрос 2'),
(48, '7ffd4ca7-0424-4f73-ba55-58fbd06cc9d8', 'Вопрос 3');

-- --------------------------------------------------------

--
-- Структура таблицы `qquestionsblocks`
--

CREATE TABLE `qquestionsblocks` (
  `idRow` int(11) NOT NULL,
  `id` varchar(50) NOT NULL,
  `name` text NOT NULL,
  `idQuestionnaire` varchar(50) NOT NULL,
  `description` text
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Дамп данных таблицы `qquestionsblocks`
--

INSERT INTO `qquestionsblocks` (`idRow`, `id`, `name`, `idQuestionnaire`, `description`) VALUES
(9, '20f75e78-93fa-4a59-8b57-d6be145e2bff', 'К какому уровню решения научно-исследовательских задач должен быть подготовлен молодой специалист для Вашего предприятия', '29b9576a-1bd3-4580-81ad-e4a12c2e18ec', 'Научно-исследовательская'),
(7, '317bd34b-1d81-45d9-9e74-a2fe93e056d8', 'выпавып', 'f0ac27df-291c-4d65-a7db-4ad84df634ba', 'Ывапывап'),
(10, '6d88a67e-802b-40cc-8e69-31310ab5ce54', 'Выберите сложность организационно-управленческих задач для молодого специалиста Вашего предприятия', '29b9576a-1bd3-4580-81ad-e4a12c2e18ec', 'Организационно-управленческая'),
(14, '7ffd4ca7-0424-4f73-ba55-58fbd06cc9d8', 'Заголовок 2', 'fca6c380-8324-48f4-9b9a-c8e82b55def0', 'Задача 2'),
(8, 'ec247fdf-1958-41e4-bae3-9b0162c78bfa', 'asdf', 'f0ac27df-291c-4d65-a7db-4ad84df634ba', 'Asdf'),
(11, 'eea85f70-1db5-4027-baa2-2473fc0b140b', 'Укажите, с каким уровнем сложности производственно-технологической задачи должен справиться молодой специалист на Вашем предприятии', '29b9576a-1bd3-4580-81ad-e4a12c2e18ec', 'Производственно-технологическая задача'),
(12, 'f4cdd269-722e-4a58-87b6-b038fc3415ea', 'Определите уровень сложности при решении проектно-конструкторских задач для молодого специалиста', '29b9576a-1bd3-4580-81ad-e4a12c2e18ec', 'Проектно-конструкторская'),
(13, 'f9e5be47-c709-4487-a209-ad8a9862fe68', 'Заголовок 1', 'fca6c380-8324-48f4-9b9a-c8e82b55def0', 'Задача 1');

-- --------------------------------------------------------

--
-- Структура таблицы `questionnaires`
--

CREATE TABLE `questionnaires` (
  `idRow` int(11) NOT NULL,
  `id` varchar(50) NOT NULL,
  `direction` text NOT NULL,
  `date` date NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Дамп данных таблицы `questionnaires`
--

INSERT INTO `questionnaires` (`idRow`, `id`, `direction`, `date`) VALUES
(6, '29b9576a-1bd3-4580-81ad-e4a12c2e18ec', 'Технологические машины и оборудование', '2019-06-07'),
(5, 'f0ac27df-291c-4d65-a7db-4ad84df634ba', 'Тестовое направление', '2019-06-07'),
(7, 'fca6c380-8324-48f4-9b9a-c8e82b55def0', 'Программная инженерия', '2019-07-01');

--
-- Триггеры `questionnaires`
--
DELIMITER $$
CREATE TRIGGER `RemoveQuestionaires_AFTER` AFTER DELETE ON `questionnaires` FOR EACH ROW UPDATE directions SET directions.isCreatedQuestioning = 0 WHERE 		directions.name = OLD.direction
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `RemoveQuestionaires_BEFORE` BEFORE DELETE ON `questionnaires` FOR EACH ROW BEGIN
	DECLARE done integer default 0;
    DECLARE idQB TEXT;
    
    DECLARE cur CURSOR FOR
        SELECT id FROM qquestionsblocks 
        WHERE qquestionsblocks.idQuestionnaire = OLD.id;

	DECLARE CONTINUE HANDLER FOR SQLSTATE '02000' SET done=1;
	
    OPEN cur;
    
    WHILE done=0 DO
    	FETCH cur INTO idQB;
        DELETE FROM qquestions WHERE qquestions.idQuestionBlock = 
        idQB;
    END WHILE;
    
    CLOSE cur;

    DELETE FROM qquestionsblocks 
    WHERE qquestionsblocks.idQuestionnaire = OLD.id;
    

END
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Структура таблицы `questions`
--

CREATE TABLE `questions` (
  `id` int(11) UNSIGNED NOT NULL,
  `text` text NOT NULL,
  `idTaskType` int(11) NOT NULL
) ENGINE=MyISAM DEFAULT CHARSET=utf8 COMMENT='Вопросы в виде теста';

--
-- Дамп данных таблицы `questions`
--

INSERT INTO `questions` (`id`, `text`, `idTaskType`) VALUES
(1, 'Обслуживание, освоение и эксплуатация технологического оборудования, электро-, гидро и пневмо-приводов и систем для реализации производственных процессов', 1),
(2, 'Организация рабочих мест, их техническое оснащение с размещением технологического оборудования', 1),
(3, 'Организация метрологического обеспечения технологических процессов, использование типовых методов контроля качества выпускаемой продукции', 1),
(4, 'Подготовка технической документации по менеджменту качества машин, приводов, различных комплексов и технологических процессов на производственных участках', 1),
(5, 'Контроль соблюдения экологической безопасности проведения работ', 1),
(6, 'Проверка технического состояния, наладка, настройка, регулирование машин, приводов, систем, различных комплексов, технологического оборудования и программных средств', 1),
(7, 'Монтаж, наладка, испытание и сдача в эксплуатацию новых образцов изделий, узлов и деталей выпускаемой продукции', 1),
(8, 'Приемка и освоение вводимого оборудования. Составление инструкций по эксплуатации оборудования и программ испытаний', 1),
(9, 'Составление заявок на оборудование и запасные части, подготовка технической документации на его ремонт', 1),
(10, 'Организация работы малых коллективов исполнителей', 2),
(11, 'Составление технической документации и подготовка отчетности по установленным формам', 2),
(12, 'Проведение анализа и оценка производственных и непроизводственных затрат на обеспечение требуемого качества продукции', 2),
(13, 'Подготовка исходных данных для выбора и обоснования научно-технических и организационных решений на основе экономических решений', 2),
(14, 'Выполнение работ по стандартизации, технической подготовке к сертификации машин, приводов, систем, различных комплексов и технических средств', 2),
(15, 'Планирование работ персонала и фондов оплаты труда и разработка планов работы первичных производственных подразделений', 2),
(16, 'Подготовка документации для создания системы менеджмента качества на предприятии', 2),
(17, 'Проведение организационно-плановых расчетов по созданию или реорганизации производственных участков', 2),
(18, 'Сбор и анализ исходных информационных данных для проектирования изделий машиностроения и технологий их изготовления ', 3),
(19, 'Расчет и проектирование деталей и узлов машиностроительных конструкций в соответствии с техническими заданиями и использованием стандартных средств автоматизации проектирования', 3),
(20, 'Разработка рабочей проектной и технической документации, оформление законченных проектно-конструкторских работ', 3),
(21, 'Проведение контроля соответствия разрабатываемых проектов и технической документации стандартами, техническими условиями и другими нормативны документам', 3),
(22, 'Проведение предварительного технико-экономического обоснования проектных решений', 3),
(23, 'Изучение научно-технической информации, отечественного и зарубежного опыта по направлению исследований в области машин, приводов, систем, различных комплексов', 4),
(24, 'Математическое моделирование машин, приводов, систем, различных комплексов, процессов, оборудования и производственных объектов с использованием стандартных пакетов и средств автоматизированного проектирования и проведение исследований', 4),
(25, 'Проведение экспериментов по заданным методикам, обработка и анализ результатов', 4),
(26, 'Проведение технических измерений, составление описаний проводимых исследований, подготовка данных для составления научных обзоров и публикаций', 4),
(27, 'Участие в работах по составлению научных отчетов по выполненному заданию и по внедрению результатов исследований и разработок в области машиностроения', 4),
(28, 'Организация защиты объектов интеллектуальной собственности и результатов исследований и разработок как коммерческой тайны предприятия', 4),
(67, 'asdf', 35),
(66, 'asdf', 35),
(48, 'Вопрос 3', 15),
(47, 'Вопрос 2', 15),
(46, 'Вопрос 1', 15),
(65, 'asdfadsf', 34),
(49, 'Вопрос 1', 16),
(50, 'Вопрос 2', 16),
(51, 'Вопрос 3', 16),
(64, 'asdfassf', 34),
(63, 'adsf', 34),
(62, 'asdf', 33),
(59, '1', 0),
(60, '11', 32),
(61, '22', 32),
(68, 'ывапывап', 36),
(69, 'ывапвыап', 36),
(70, 'aadsfadf', 37),
(71, 'asdgasf', 38),
(72, 'asdfadf', 38),
(90, 'вопрос 2', 46),
(89, 'вопрос1 ', 46);

-- --------------------------------------------------------

--
-- Структура таблицы `structuralsubdivision`
--

CREATE TABLE `structuralsubdivision` (
  `id` int(10) UNSIGNED NOT NULL,
  `name` text NOT NULL,
  `description` text
) ENGINE=MyISAM DEFAULT CHARSET=utf8 COMMENT='Структурные подразделения анкетируемого';

--
-- Дамп данных таблицы `structuralsubdivision`
--

INSERT INTO `structuralsubdivision` (`id`, `name`, `description`) VALUES
(1, 'Административного управления', NULL),
(2, 'Конструкторско-технологическом', NULL),
(3, 'Производственном', NULL),
(4, 'Вспомогательном', NULL);

-- --------------------------------------------------------

--
-- Структура таблицы `tasktype`
--

CREATE TABLE `tasktype` (
  `id` int(11) UNSIGNED NOT NULL,
  `name` text NOT NULL,
  `description` text,
  `idDirections` int(11) NOT NULL
) ENGINE=MyISAM DEFAULT CHARSET=utf8 COMMENT='Вид задачи';

--
-- Дамп данных таблицы `tasktype`
--

INSERT INTO `tasktype` (`id`, `name`, `description`, `idDirections`) VALUES
(1, 'Укажите, с каким уровнем сложности производственно-технологической задачи должен справиться молодой специалист на Вашем предприятии', 'производственно-технологическая задача', 2),
(2, 'Выберите сложность организационно-управленческих задач для молодого специалиста Вашего предприятия', 'Организационно-управленческая', 2),
(3, 'Определите уровень сложности при решении проектно-конструкторских задач для молодого специалиста', 'Проектно-конструкторская', 2),
(4, 'К какому уровню решения научно-исследовательских задач должен быть подготовлен молодой специалист для Вашего предприятия', 'научно-исследовательская', 2),
(15, 'Заголовок 1', 'Задача 1', 1),
(16, 'Заголовок 2', 'Задача 2', 1),
(38, 'asdfasdf', 'adsfag', 3),
(33, 'asdf', 'asdf', 3),
(34, 'test', 'asdf', 6),
(36, 'выпавып', 'ывапывап', 3),
(37, 'asdfadf', 'adsfasdf', 3),
(32, 'Test', 'shortName', 3),
(46, 'Тест 1', 'т1', 25);

-- --------------------------------------------------------

--
-- Структура таблицы `typesofdirections`
--

CREATE TABLE `typesofdirections` (
  `id` int(11) UNSIGNED NOT NULL,
  `name` text NOT NULL,
  `description` varchar(100) DEFAULT NULL
) ENGINE=MyISAM DEFAULT CHARSET=utf8 COMMENT='Тип направлений';

--
-- Дамп данных таблицы `typesofdirections`
--

INSERT INTO `typesofdirections` (`id`, `name`, `description`) VALUES
(1, 'Бакалавриат', NULL),
(2, 'Магистратура', NULL);

-- --------------------------------------------------------

--
-- Структура таблицы `users`
--

CREATE TABLE `users` (
  `id` int(10) UNSIGNED NOT NULL,
  `login` varchar(20) NOT NULL,
  `password` varchar(30) NOT NULL,
  `description` text
) ENGINE=MyISAM DEFAULT CHARSET=utf8 COMMENT='Пользователи системы';

--
-- Дамп данных таблицы `users`
--

INSERT INTO `users` (`id`, `login`, `password`, `description`) VALUES
(1, 'admin', 'admin', 'Администратор'),
(2, 'a', 'a', NULL);

-- --------------------------------------------------------

--
-- Структура таблицы `variantsofanswers`
--

CREATE TABLE `variantsofanswers` (
  `id` int(11) UNSIGNED NOT NULL,
  `name` text NOT NULL,
  `description` text
) ENGINE=MyISAM DEFAULT CHARSET=utf8 COMMENT='Варианты ответов';

--
-- Дамп данных таблицы `variantsofanswers`
--

INSERT INTO `variantsofanswers` (`id`, `name`, `description`) VALUES
(1, 'Уровень 1', NULL),
(2, 'Уровень 2', NULL),
(3, 'Уровень 3', NULL);

--
-- Индексы сохранённых таблиц
--

--
-- Индексы таблицы `answers`
--
ALTER TABLE `answers`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `id` (`id`);

--
-- Индексы таблицы `businesses`
--
ALTER TABLE `businesses`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `id` (`id`),
  ADD KEY `idIndustry` (`idIndustry`);

--
-- Индексы таблицы `directions`
--
ALTER TABLE `directions`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `id` (`id`),
  ADD KEY `idTypesOfDirections` (`idTypesOfDirections`);

--
-- Индексы таблицы `industry`
--
ALTER TABLE `industry`
  ADD PRIMARY KEY (`id`) USING BTREE,
  ADD UNIQUE KEY `id` (`id`);

--
-- Индексы таблицы `qanswers`
--
ALTER TABLE `qanswers`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `id` (`id`),
  ADD KEY `idBusinesses` (`idBusinesses`,`idQuestion`,`idVariantsOfAnswers`),
  ADD KEY `idQuestion` (`idQuestion`);

--
-- Индексы таблицы `qquestions`
--
ALTER TABLE `qquestions`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `id` (`id`),
  ADD KEY `idQuestionBlock` (`idQuestionBlock`);

--
-- Индексы таблицы `qquestionsblocks`
--
ALTER TABLE `qquestionsblocks`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `id` (`idRow`),
  ADD KEY `idQuestionnaires` (`idQuestionnaire`);

--
-- Индексы таблицы `questionnaires`
--
ALTER TABLE `questionnaires`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `id` (`idRow`),
  ADD UNIQUE KEY `idRow` (`idRow`),
  ADD UNIQUE KEY `id_2` (`id`);

--
-- Индексы таблицы `questions`
--
ALTER TABLE `questions`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `id` (`id`),
  ADD KEY `idTaskType` (`idTaskType`);

--
-- Индексы таблицы `structuralsubdivision`
--
ALTER TABLE `structuralsubdivision`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `id` (`id`);

--
-- Индексы таблицы `tasktype`
--
ALTER TABLE `tasktype`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `id` (`id`),
  ADD KEY `idDirections` (`idDirections`);

--
-- Индексы таблицы `typesofdirections`
--
ALTER TABLE `typesofdirections`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `id` (`id`);

--
-- Индексы таблицы `users`
--
ALTER TABLE `users`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `id` (`id`);

--
-- Индексы таблицы `variantsofanswers`
--
ALTER TABLE `variantsofanswers`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `id` (`id`),
  ADD KEY `id_2` (`id`);

--
-- AUTO_INCREMENT для сохранённых таблиц
--

--
-- AUTO_INCREMENT для таблицы `answers`
--
ALTER TABLE `answers`
  MODIFY `id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT для таблицы `businesses`
--
ALTER TABLE `businesses`
  MODIFY `id` int(11) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=46;

--
-- AUTO_INCREMENT для таблицы `directions`
--
ALTER TABLE `directions`
  MODIFY `id` int(11) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=26;

--
-- AUTO_INCREMENT для таблицы `industry`
--
ALTER TABLE `industry`
  MODIFY `id` int(11) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=14;

--
-- AUTO_INCREMENT для таблицы `qanswers`
--
ALTER TABLE `qanswers`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=457;

--
-- AUTO_INCREMENT для таблицы `qquestions`
--
ALTER TABLE `qquestions`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=49;

--
-- AUTO_INCREMENT для таблицы `qquestionsblocks`
--
ALTER TABLE `qquestionsblocks`
  MODIFY `idRow` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=15;

--
-- AUTO_INCREMENT для таблицы `questionnaires`
--
ALTER TABLE `questionnaires`
  MODIFY `idRow` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=8;

--
-- AUTO_INCREMENT для таблицы `questions`
--
ALTER TABLE `questions`
  MODIFY `id` int(11) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=91;

--
-- AUTO_INCREMENT для таблицы `structuralsubdivision`
--
ALTER TABLE `structuralsubdivision`
  MODIFY `id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=5;

--
-- AUTO_INCREMENT для таблицы `tasktype`
--
ALTER TABLE `tasktype`
  MODIFY `id` int(11) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=47;

--
-- AUTO_INCREMENT для таблицы `typesofdirections`
--
ALTER TABLE `typesofdirections`
  MODIFY `id` int(11) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=3;

--
-- AUTO_INCREMENT для таблицы `users`
--
ALTER TABLE `users`
  MODIFY `id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=3;

--
-- AUTO_INCREMENT для таблицы `variantsofanswers`
--
ALTER TABLE `variantsofanswers`
  MODIFY `id` int(11) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;

--
-- Ограничения внешнего ключа сохраненных таблиц
--

--
-- Ограничения внешнего ключа таблицы `qanswers`
--
ALTER TABLE `qanswers`
  ADD CONSTRAINT `qanswers_ibfk_2` FOREIGN KEY (`idQuestion`) REFERENCES `qquestions` (`id`);

--
-- Ограничения внешнего ключа таблицы `qquestions`
--
ALTER TABLE `qquestions`
  ADD CONSTRAINT `qquestions_ibfk_1` FOREIGN KEY (`idQuestionBlock`) REFERENCES `qquestionsblocks` (`id`);

--
-- Ограничения внешнего ключа таблицы `qquestionsblocks`
--
ALTER TABLE `qquestionsblocks`
  ADD CONSTRAINT `qquestionsblocks_ibfk_1` FOREIGN KEY (`idQuestionnaire`) REFERENCES `questionnaires` (`id`);
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
